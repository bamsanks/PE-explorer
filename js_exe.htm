<html>
  <head>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/hex.css">
    <link rel="stylesheet" href="styles/window.css">
    <script type="text/javascript" src="scripts/test_file.js"></script>
    <script type="text/javascript" src="scripts/window.js"></script>
    <script type="text/javascript" src="scripts/utils.js"></script>
    <script type="text/javascript" src="scripts/reader.js"></script>
    <script type="text/javascript" src="scripts/consts.js"></script>
    <script type="text/javascript" src="scripts/structs.js"></script>
    <script type="text/javascript" src="scripts/resources.js"></script>
    <script type="text/javascript" src="scripts/machine.js"></script>
    <script type="text/javascript" src="scripts/viewer.js"></script>
    <script type="text/javascript" src="scripts/main.js"></script>

    <title>Executable Explorer</title>
  </head>
  <body>
    <div id="app-menu">
      <div class="menu-item" id="open-btn" onclick="ShowFilePicker()" title="Open (Ctrl+O)">Open File</div>
      <div class="menu-item" id="find-btn" onclick="windows.finder.Show()" title="Find (Ctrl+F)" style="display: none;">Find in File</div>
    </div>
    <div id="app-body">
      <div id="splitter" class="splitter-horiz">
        <div id="description-panel" class="panel">
          <div class="panel-header">Section explorer</div>
          <input type="file" style="display: none;" id="file-selector" accept=".exe,.dll">
          <div id="container">
            <div id="navbar">
              <div id="section_summaries">
                
              </div>
            </div>
            <div id="content">

            </div>
          </div>
        </div>
        <div id="sizer-bar">
          <div style="background-color: #ddd; width: 3px; height: 100%"></div>
        </div>
        <div id="hex-panel" class="panel">
          <div id="hex-viewer">

          </div>
        </div>
      </div>

      <div id="jumpToContainer">
        <div id="jumpToBox">
          <input id="jumpToInput" placeholder="0xADDRESS">
        </div>
      </div>

      <div id="find-content">
        <table>
          <tr>
            <td>Find:</td>
            <td><input id="find-text-input" type="text"></td>
          </tr>
          <tr>
            <td>Search from:</td>
            <td>
              <input id="find-search-from" type="text" placeholder="0xADDRESS">
            </td>
          </tr>
        </table>
        
        <div id="find-bottom-section">
          <div id="find-settings">
            <div>
              <input type="checkbox" name="find-ignore-case" id="find-ignore-case">
              <label for="find-ignore-case">Ignore case</label>
            </div>
            <div>
              <input type="checkbox" name="find-wrap" id="find-wrap" checked>
              <label for="find-wrap">Wrap around</label>
            </div>
            <div>
              <input type="checkbox" name="find-update-searchfrom" id="find-update-searchfrom" checked>
              <label for="find-update-searchfrom">Auto-increment "Search from"</label>
            </div>
          </div>
          <div id="find-response">
            
          </div>
        </div>
      </div>
    </div>

    <script>
      function resize() {
        // var splitter = document.getElementById("splitter");
        // var idx = (window.innerHeight > window.innerWidth) ? 1 : 0;
        // var classes = ["splitter-horiz", "splitter-vert"];
        // splitter.classList.remove(classes[1-idx]);
        // splitter.classList.add(classes[idx]);
        
        // TODO: Ensure num lines etc are recalculated
        globals.viewer.resize();
      }
      window.onresize = resize;
      window.addEventListener("load", resize);
    </script>

  </body>
</html>